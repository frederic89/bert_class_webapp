# Djangoæ¡†æ¶ä¸‹çš„Bertæ–‡æœ¬åˆ†ç±»å¹³å°

![Tensorflow](https://img.shields.io/badge/TensorFlow-1.9.0-green.svg)
![Python](https://img.shields.io/badge/Python-3.6-brightgreen.svg)

â€”â€”åŸºäºbertçš„ä¸­æ–‡æ–°é—»åˆ†ç±»å¹³å°ï¼Œè¯¦è§å‚è€ƒ2

### è¿è¡Œæˆªå›¾
![æ–‡æœ¬åˆ†ç±»å¹³å°](https://i.imgur.com/v7J89SQ.gif)

### æ›´æ–°æ—¥å¿—

ğŸš€ğŸš€å¸Œæœ›æœ‰æ—¶é—´çš„è´¡çŒ®è€…å¯ä»¥åœ¨06.26çš„åŸºç¡€ä¸Šå¯ä»¥ç»™è¿™ä¸ªç³»ç»Ÿcontributeä¸€ä¸ªå¥½çœ‹çš„ç»“æœé¢„æµ‹ç•Œé¢

2023.03.02 æ³¨é‡Šä¼˜åŒ–ï¼Œé™æ€ç›®å½•é…ç½®ä¸ºå…ƒç»„

2022.07.22 ä»£ç ç»“æ„ä¼˜åŒ–ï¼Œä¸€å¹¶ç•™å‡ºbertè®¡ç®—å›¾é…ç½®dropoutéšæœºç§å­çš„ä»£ç æ¥å£

2022.07.19 Bugfix: ä¿®æ­£â€œå‘½ä»¤è¡Œäº¤äº’æ—¶è¾“å…¥ä»»æ„è¯­å¥æŠ›å‡ºæ ‡ç­¾é”™è¯¯æç¤ºâ€çš„é—®é¢˜

**2022.06.26** ä¿®æ”¹ä»£ç ï¼ŒåŠ å¼ºé€»è¾‘å¯è¯»æ€§ï¼›**åœ¨å‘½ä»¤è¡Œæ—¥å¿—ä¸­æ˜¾ç¤ºæ–‡æœ¬åœ¨å„åˆ†ç±»çš„åˆ¤æ–­æ¦‚ç‡**

2022.06.09 æœ¬åœ°åŒ–Bootstrapã€jQueryçš„é™æ€æ–‡ä»¶(JSå’ŒCSS)ï¼Œæ–¹ä¾¿ä½¿ç”¨uwsgiç­‰è¿›è¡Œèµ„æºæœ¬åœ°åŒ–éƒ¨ç½²

2022.06.04 å¢åŠ æ¨¡å‹æ ‡ç­¾åé…ç½®æˆ–è¯­æ–™åº“ä¸­åˆ†ç±»æ ‡ç­¾åæ˜¯å¦ä¸€è‡´æ£€æŸ¥

2022.05.22 å°†æ ‡ç­¾é…ç½®ç»Ÿä¸€æ”¾äºtext_model.pyä¸­

### å®‰è£…ä¾èµ–

ç‰ˆæœ¬ï¼šPython 3.6.13  +  Tensorflow 1.9.0ï¼ˆæ­¤ä¸ºCPUç‰ˆæœ¬ï¼ŒGPUç‰ˆæœ¬tensorflow-gpuè¯·è‡ªè¡Œè°ƒè¯•ï¼‰

ä»pipå®‰è£…ä¾èµ–ç¯å¢ƒæ—¶ï¼Œå»ºè®®å…ˆä½¿ç”¨pyenvç­‰æ–°å»ºpythonè™šæ‹Ÿç¯å¢ƒã€‚

```bash
pip3 install -r requirements.txt # å®‰è£…ä¾èµ–åŒ…
```

ï¼ˆæ³¨ï¼šå¦‚ç¢°åˆ°å…·ä½“ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œè¯·æ‰‹åŠ¨å®‰è£…åˆé€‚ç‰ˆæœ¬ï¼‰

### åˆ†ç±»ç³»ç»Ÿè¿è¡Œ

1. è¯·å…ˆè®­ç»ƒæ¨¡å‹ï¼Œè§â€œ**æ•°æ®çš„è®­ç»ƒ**â€ã€‚

2. ç½‘é¡µè¿è¡Œï¼š

   python3 manage.py runserver 8000

   æ‰“å¼€http://127.0.0.1:8000 è®¿é—®

3. å¦å¤–æä¾›å‘½ä»¤è¡Œäº¤äº’æ–¹å¼ï¼š

   python3 infer.py

### æ•°æ®çš„è®­ç»ƒ

1. BERTæ¨¡å‹çš„ä¸‹è½½åœ°å€ï¼š[BERT-Base, Chinese](https://storage.googleapis.com/bert_models/2018_11_03/chinese_L-12_H-768_A-12.zip) : Chinese Simplified and Traditional, 12-layer, 768-hidden, 12-heads, 110M parametersã€‚**æ³¨æ„**ï¼šä¸‹è½½åè¯·è§£å‹ï¼Œå¹¶ç½®äºæ ¹ç›®å½•ä¸‹çš„bert_modelæ–‡ä»¶å¤¹ä¸­ï¼Œç­‰å¾…é¢„å¤‡è®­ç»ƒã€‚ï¼ˆæ­£ç¡®çš„BERTæ¨¡å‹è·¯å¾„åº”ä¸º/bert_model/chinese_L-12_H-768_A-12ï¼‰

2. æ•°æ®é›†æ˜¯æ–°é—»æ•°æ®é›†ï¼Œæ¶‰åŠ10ä¸ªç±»åˆ«ï¼ˆä½“è‚²ã€è´¢ç»ã€æˆ¿äº§ã€å®¶å±…ã€æ•™è‚²ã€ç§‘æŠ€ã€æ—¶å°šã€æ—¶æ”¿ã€æ¸¸æˆã€å¨±ä¹ï¼‰ï¼Œä¸‹è½½é“¾æ¥ï¼š[https://pan.baidu.com/s/11AuC5g47rnsancf6nfKdiQ](https://pan.baidu.com/s/11AuC5g47rnsancf6nfKdiQ) å¯†ç :1vdgã€‚**æ³¨æ„**ï¼šè¯·ä¸‹è½½åè¯·ç½®äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„/corpus/cnewsæ–‡ä»¶å¤¹ä¸­ï¼ˆå¦‚æ²¡æœ‰è·¯å¾„ï¼Œè¯·ç…§æ­¤æ–°å»ºï¼‰ã€‚

3. è®­ç»ƒåˆ†ç±»æ¨¡å‹ï¼š
```bash
python3 text_run.py train
```
â€‹	or   å¸¦é‡å®šå‘å¯¼å‡ºæ—¥å¿—è¿è¡Œ:  
```bash
python3 text_run.py train 2> train.txt
```
4. ç”¨æµ‹è¯•é›†è¯„ä»·æ¨¡å‹ï¼š

```bash
python3 text_run.py test 
```

### Todo

â€‹	åæœŸè€ƒè™‘é’ˆå¯¹å°æ ·æœ¬(few shot)è¯­æ–™è®­ç»ƒè¿›è¡Œä¼˜åŒ–

### å‚è€ƒ

1. æºç ä¸­æ¡†æ¶TextCNN(TEXT_BERT_CNN)æ¥è‡ª[https://github.com/cjymz886/text_bert_cnn](https://github.com/cjymz886/text_bert_cnn) çš„é¡¹ç›®ã€‚

2. https://blog.csdn.net/weixin_43486940/article/details/124188746